---
title: "Linear Regression Project"
date: 2018-07-14
tags: [linear regression, data science]
header:
  image: "/images/nightwindows.jpg"
excerpt: "Linear Regression, Data Science"
mathjax: "true"
---
**Report on statistically differences of average male wages for the three race classes
Introduction**

This report explores the data set of roughly 25,000 records for males between the age of 18
and 70 who are full time workers and intend to answer the following two research questions
with the final linear regression model that incorporates all relevant variables, interactions and
functional forms of the covariates. The research questions are shown in the following
paragraph:

1. Do African American males have statistically different wages compared to Caucasian
males?
2. Do African American males have statistically different wages compared to all other
males?

First, plot the scatter plots of different explanatory variables versus the explained variable,
which is the logarithm of wage. The scatter plot of commuting distances versus log(wage)
seems reasonable, forming a rectangular shape centering on a horizontal line.

<img src="{{ site.url }}{{ site.baseurl }}/images/linear/splot_com.jpeg" alt="scatter plot">
Then trying the scatter plot of years of education versus logarithm of wage, which has an
increasing trend as years of education get larger (Fig 2a). This trend can be inspected
more clearly by observing a box plot of education versus logarithm of wage(Fig 2b).

<img src="{{ site.url }}{{ site.baseurl }}/images/linear/splot_edu.jpeg" alt="Fig 2a">

<img src="{{ site.url }}{{ site.baseurl }}/images/linear/bplot_edu.jpeg" alt="Fig 2b">

Next, it is suspected that race might have interactions with other explanatory variables.
For example, we can try inspecting the interaction between race and education. By
plotting the scatter plot of edu versus log(wage) and using the smoother(Fig 3a), we can
observe that the African Americans get a lower wage compared to Caucasians and others.
The same conclusion can be arrived by inspecting Fig 3b, the scatter plot of edu versus
log(wage) using lines. Therefore, an interaction effect between education and race(the
product of exp and race) is added to the refined model. After adding the interaction effect,
run a R summary to check if the interaction is significant. Here is the interaction statistic
taken from the summary output:

```r
Coefficients:
                Estimate Std. Error t value Pr(>|t|)    
edu:raceother  1.744e-03  5.745e-03   0.304 0.761484    
edu:racewhite  4.590e-04  5.069e-03   0.091 0.927852     
```
It can be concluded that the interaction terms are not significant (p-values very large,
bigger than 0.05). Therefore, it is safe to continue with this model.

<img src="{{ site.url }}{{ site.baseurl }}/images/linear/smoother.jpeg">
<img src="{{ site.url }}{{ site.baseurl }}/images/linear/lines.jpeg">

In the above analysis, only the commuting distance and education scatterplots are checked,
which is not enough for inspecting the model. Therefore, we plot the scatterplot relates to
years of job experience (Fig 4) and the one for number of employees in a company (Fig 5).
By inspecting the scatterplot of exp, it is obvious that it follows a curvilinear shape.
Therefore, some adjustments should be made to the exp variable (i.e. adding a polynomial
form of exp). The scatterplot of emp looks similar to the scatterplot of commuting
distance. Therefore, no adjustment is needed for emp variable.

<img src="{{ site.url }}{{ site.baseurl }}/images/linear/splot_exp.jpeg">
<img src="{{ site.url }}{{ site.baseurl }}/images/linear/splot_emp.jpeg">

**Statistical Model**
The final model follows the following formula:
$$log(wage) = edu + edu*race + exp + exp2 + exp3 + city + reg + race + deg + emp$$
